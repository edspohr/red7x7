<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Red7x7 - Plataforma de Networking Corporativo. Conecta, colabora y crece con nuestra red de profesionales."
    />
    <title>Portal de Usuarios - Red7x7</title>
    <link rel="icon" href="img/logo.png" type="image/png" />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Outfit:wght@500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-gray-50 text-gray-800">
    <!-- Loading Screen -->
    <div
      id="loading-screen"
      class="fixed inset-0 bg-white flex items-center justify-center z-50"
    >
      <div class="flex flex-col items-center">
        <svg
          class="animate-spin h-10 w-10"
          style="color: #4b5563"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
        >
          <circle
            class="opacity-25"
            cx="12"
            cy="12"
            r="10"
            stroke="currentColor"
            stroke-width="4"
          ></circle>
          <path
            class="opacity-75"
            fill="currentColor"
            d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
          ></path>
        </svg>
        <p class="mt-4 text-lg text-gray-600">Cargando Red7x7...</p>
      </div>
    </div>

    <!-- Auth Container -->
    <div
      id="auth-container"
      class="min-h-screen flex items-center justify-center p-4"
    >
      <div class="auth-form-wrapper">
        <div class="text-center mb-8">
          <img src="img/logo.png" alt="Red7x7 Logo" class="w-24 mx-auto mb-4" />
          <h2 id="auth-title" class="text-2xl font-bold text-gray-800">
            Iniciar Sesi√≥n
          </h2>
        </div>

        <!-- Login Form -->
        <div id="login-form-container" class="form-container">
          <form id="login-form">
            <div class="mb-4">
              <label
                for="login-email"
                class="block text-sm font-medium text-gray-700"
                >Email</label
              >
              <input
                type="email"
                id="login-email"
                required
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div class="mb-4">
              <label
                for="login-password"
                class="block text-sm font-medium text-gray-700"
                >Contrase√±a</label
              >
              <input
                type="password"
                id="login-password"
                required
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div class="text-right mb-4">
              <a
                href="#"
                id="forgot-password-link"
                class="text-sm text-gray-600 hover:underline"
                >¬øOlvidaste tu contrase√±a?</a
              >
            </div>
            <button type="submit" class="btn btn-primary w-full">
              <i data-lucide="log-in" class="w-4 h-4 mr-2"></i> Ingresar
            </button>
          </form>
          <div class="my-4 flex items-center">
            <div class="grow border-t border-gray-300"></div>
            <span class="mx-4 text-gray-500 text-sm">o</span>
            <div class="grow border-t border-gray-300"></div>
          </div>
          <div>
            <button id="google-login-button" class="btn btn-google w-full">
              <svg
                class="w-5 h-5 mr-2"
                viewBox="0 0 48 48"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M44.5 24c0-1.56-.14-3.08-.4-4.54H24v8.6h11.5c-.48 2.78-1.9 5.14-3.9 6.7v5.5h7.1c4.17-3.83 6.57-9.4 6.57-16.26z"
                  fill="#4285F4"
                ></path>
                <path
                  d="M24 45c6.5 0 12-2.14 16-5.74l-7.1-5.5c-2.14 1.44-4.88 2.3-7.9 2.3-6.1 0-11.27-4.1-13.12-9.7H3.4v5.7C7.9 40.5 15.4 45 24 45z"
                  fill="#34A853"
                ></path>
                <path
                  d="M10.88 29.3c-.34-.98-.52-2.02-.52-3.1 0-1.08.18-2.12.52-3.1V17.4H3.4C2.5 19.3 2 21.6 2 24c0 2.4.5 4.7 1.4 6.6l7.48-5.7z"
                  fill="#FBBC05"
                ></path>
                <path
                  d="M24 9.2c3.54 0 6.7 1.22 9.2 3.6l6.3-6.3C36 2.1 30.5 0 24 0 15.4 0 7.9 4.5 3.4 11.7l7.48 5.7c1.85-5.6 7.02-9.7 13.12-9.7z"
                  fill="#EA4335"
                ></path>
              </svg>
              Continuar con Google
            </button>
          </div>
          <p class="mt-6 text-center text-sm">
            ¬øNo tienes cuenta?
            <a
              href="#"
              id="register-link"
              class="text-gray-700 font-medium hover:underline"
              >Reg√≠strate</a
            >
          </p>
        </div>

        <!-- Register Form -->
        <div id="register-form-container" class="form-container hidden">
          <form id="register-form" class="space-y-3">
            <input
              type="text"
              id="register-name"
              placeholder="Nombre Completo"
              required
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="email"
              id="register-email"
              placeholder="Email"
              required
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="password"
              id="register-password"
              placeholder="Contrase√±a"
              required
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="password"
              id="register-confirm-password"
              placeholder="Confirmar Contrase√±a"
              required
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="text"
              id="register-company"
              placeholder="Empresa"
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="text"
              id="register-position"
              placeholder="Cargo"
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <input
              type="tel"
              id="register-phone"
              placeholder="Tel√©fono"
              class="block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <button type="submit" class="btn btn-primary w-full mt-5">
              <i data-lucide="user-plus" class="w-4 h-4 mr-2"></i> Registrarse
            </button>
          </form>
          <p class="mt-6 text-center text-sm">
            ¬øYa tienes cuenta?
            <a
              href="#"
              id="login-link-from-register"
              class="text-gray-700 font-medium hover:underline"
              >Ingresa aqu√≠</a
            >
          </p>
        </div>

        <!-- Forgot Password Form -->
        <div id="forgot-password-form-container" class="form-container hidden">
          <p class="text-sm text-gray-600 mb-4 text-center">
            Ingresa tu email para restablecer tu contrase√±a.
          </p>
          <form id="forgot-password-form">
            <input
              type="email"
              id="forgot-email"
              placeholder="Email"
              required
              class="mb-4 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
            />
            <button type="submit" class="btn btn-primary w-full">
              <i data-lucide="send" class="w-4 h-4 mr-2"></i> Enviar enlace
            </button>
          </form>
          <p class="mt-6 text-center text-sm">
            <a
              href="#"
              id="login-link-from-forgot"
              class="text-gray-700 font-medium hover:underline"
              >Volver a inicio de sesi√≥n</a
            >
          </p>
        </div>
      </div>
    </div>

    <!-- Main Application Screen -->
    <div id="app-screen" class="min-h-screen">
      <!-- Header -->
      <header class="bg-white/80 backdrop-blur-md border-b border-slate-200 sticky top-0 z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
          <div class="flex justify-between items-center h-16">
            <!-- Logo -->
            <div class="flex-shrink-0 flex items-center">
                 <div class="h-8 w-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg mr-2 flex items-center justify-center text-white font-bold">R</div>
                 <h1 class="text-xl font-bold tracking-tight text-slate-800 font-heading">Red7x7</h1>
            </div>
            
            <!-- Actions -->
            <div class="flex items-center space-x-3">
              <div id="user-info" class="hidden md:flex flex-col text-right mr-2">
                <p class="text-sm font-semibold text-slate-700 leading-none"></p>
                <p id="user-email-role" class="text-xs text-slate-500 mt-1"></p>
              </div>
              
              <a href="https://www.red7x7.cl/suscripcion" target="_blank" id="upgrade-to-pro-btn" class="btn btn-upgrade hidden text-xs px-3 py-1.5 rounded-full">
                <i data-lucide="sparkles" class="w-3.5 h-3.5 md:mr-1.5"></i>
                <span class="hidden md:inline">Hazte Pro</span>
              </a>
              
              <button id="profile-button" class="p-2 rounded-full text-slate-500 hover:bg-slate-100 transition-colors" title="Mi Perfil">
                <i data-lucide="user-circle" class="w-6 h-6"></i>
              </button>
              
              <button id="logout-button" class="p-2 rounded-full text-slate-400 hover:text-red-500 hover:bg-red-50 transition-colors" title="Salir">
                <i data-lucide="log-out" class="w-5 h-5"></i>
              </button>
            </div>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">
        <!-- Dashboard Stats -->
        <div
          id="dashboard-stats"
          class="grid-cols-1 md:grid-cols-3 gap-6 mb-8 hidden"
        >
          <!-- Stats injections -->
        </div>

        <!-- Admin-only panels -->
        <div id="admin-panels-container" class="hidden">
          <!-- Create Announcement -->
          <div class="card">
            <h2 class="section-title">Crear Anuncio</h2>
            <textarea
              id="announcement-text"
              class="w-full p-2 border rounded-md"
              rows="3"
              placeholder="Escribe tu anuncio aqu√≠..."
            ></textarea>
            <div class="flex justify-between items-center mt-4">
              <div class="flex items-center">
                <input
                  type="checkbox"
                  id="pin-announcement"
                  class="h-4 w-4 border-gray-300 rounded focus:ring-gray-500"
                  style="color: #4b5563"
                />
                <label
                  for="pin-announcement"
                  class="ml-2 block text-sm text-gray-900"
                  >Fijar con chincheta</label
                >
              </div>
              <button id="submit-announcement" class="btn btn-primary">
                <i data-lucide="send" class="w-4 h-4 mr-2"></i> Publicar
              </button>
            </div>
          </div>
          <!-- Add User -->
          <div class="card">
            <h2 class="section-title">A√±adir Nuevo Usuario</h2>
            <div class="mb-4 p-4 bg-gray-50 border border-gray-200 rounded-lg">
              <h3 class="font-semibold text-sm mb-2">Carga Masiva (CSV)</h3>
              <div class="flex items-center space-x-2">
                <input
                  type="file"
                  id="csv-upload-input"
                  accept=".csv"
                  class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"
                />
                <button id="process-csv-btn" class="btn btn-secondary">
                  <i data-lucide="upload" class="w-4 h-4 mr-2"></i> Cargar
                </button>
              </div>
              <p class="text-xs text-gray-500 mt-2">
                Formato: Nombre, Email, Empresa, Cargo, Tel√©fono
              </p>
            </div>
            <hr class="my-4 border-gray-200" />

            <form
              id="add-user-form"
              class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
            >
              <input
                type="text"
                id="add-user-name"
                placeholder="Nombre Completo"
                required
                class="p-2 border rounded-md"
              />
              <input
                type="email"
                id="add-user-email"
                placeholder="Email"
                required
                class="p-2 border rounded-md"
              />
              <input
                type="text"
                id="add-user-company"
                placeholder="Empresa"
                class="p-2 border rounded-md"
              />
              <input
                type="text"
                id="add-user-position"
                placeholder="Cargo"
                class="p-2 border rounded-md"
              />
              <input
                type="tel"
                id="add-user-phone"
                placeholder="Tel√©fono"
                class="p-2 border rounded-md"
              />
              <button
                type="submit"
                class="btn btn-primary md:col-span-2 lg:col-span-1"
              >
                <i data-lucide="user-plus" class="w-4 h-4 mr-2"></i> A√±adir
                Usuario
              </button>
            </form>
          </div>
        </div>

        <!-- Announcements Panel -->
        <div class="card">
          <h2 class="section-title">üì£ Panel de Anuncios</h2>
          <div id="announcements-list" class="space-y-4">
            <!-- Announcements will be injected here -->
          </div>
        </div>

        <!-- Admin-only: Create Meeting -->
        <div id="admin-meeting-panel" class="hidden mb-6">
          <div class="card relative">
            <div
              id="ai-loader"
              class="hidden absolute inset-0 bg-white bg-opacity-80 items-center justify-center z-10"
            >
              <div class="flex flex-col items-center">
                <svg
                  class="animate-spin h-8 w-8 text-gray-600"
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                >
                  <circle
                    class="opacity-25"
                    cx="12"
                    cy="12"
                    r="10"
                    stroke="currentColor"
                    stroke-width="4"
                  ></circle>
                  <path
                    class="opacity-75"
                    fill="currentColor"
                    d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  ></path>
                </svg>
                <p class="mt-3 text-gray-600">Procesando con IA...</p>
              </div>
            </div>
            <h2 class="section-title">Registrar Reuni√≥n</h2>

            <!-- Restored AI Meeting Notes Section -->
            <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-100 mb-6">
              <label for="meeting-notes-text" class="block text-sm font-semibold text-indigo-900 mb-1">
                <i data-lucide="bot" class="w-4 h-4 inline mr-1"></i> Asistente de Minutas (IA)
              </label>
              <p class="text-xs text-indigo-700 mb-2">Pega aqu√≠ tus notas crudas. La IA generar√° el resumen y detectar√° participantes.</p>
              <textarea
                id="meeting-notes-text"
                placeholder="Ej: Reuni√≥n con Ana y Carlos. Acordamos presupuesto de 500UF..."
                class="w-full p-2 border border-indigo-200 rounded-md text-sm focus:ring-indigo-500 focus:border-indigo-500"
                rows="3"
              ></textarea>
              <div class="flex justify-end mt-2">
                <button id="process-meeting-ai" class="btn bg-indigo-600 text-white hover:bg-indigo-700 text-xs py-1 px-3 rounded shadow-sm">
                  <i data-lucide="sparkles" class="w-3 h-3 mr-1"></i> Procesar
                </button>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <input
                id="meeting-title"
                type="text"
                placeholder="T√≠tulo de la reuni√≥n"
                class="w-full p-2 border rounded-md md:col-span-1"
              />
              <input
                id="meeting-date"
                type="date"
                class="w-full p-2 border rounded-md"
              />
              <input
                id="meeting-time"
                type="time"
                class="w-full p-2 border rounded-md"
              />
            </div>
            <input id="meeting-id" type="hidden" />
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
              <input
                id="meeting-location"
                type="text"
                placeholder="Lugar / Enlace (Zoom, Meet, etc.)"
                class="w-full p-2 border rounded-md md:col-span-2"
              />
              <select id="meeting-type" class="w-full p-2 border rounded-md bg-white">
                  <option value="virtual">Virtual</option>
                  <option value="presencial">Presencial</option>
              </select>
            </div>
            <textarea
              id="meeting-summary"
              class="w-full p-2 border rounded-md mt-4"
              rows="4"
              placeholder="Resumen de la reuni√≥n (Soporta Markdown: **negrita**, - lista)..."
            ></textarea>
            <div class="mt-4">
              <h3 class="font-semibold mb-2">Participantes</h3>
              <div
                id="meeting-participants-list"
                class="max-h-60 overflow-y-auto border rounded-md p-2 space-y-2"
              >
                <!-- User list for selection will be injected here -->
              </div>
            </div>
            <div class="text-right mt-4">
              <button id="submit-meeting" class="btn btn-primary">
                <i data-lucide="save" class="w-4 h-4 mr-2"></i> Guardar Reuni√≥n
              </button>
            </div>
          </div>
        </div>

        <!-- My Meetings Panel -->
        <div class="card">
          <div class="flex items-center justify-between mb-4">
               <h2 class="section-title mb-0">üóìÔ∏è Mis Reuniones</h2>
               <!-- Tabs -->
               <div class="flex space-x-1 bg-gray-100 p-1 rounded-lg">
                   <button id="tab-upcoming" class="px-3 py-1 text-sm font-medium rounded-md shadow-sm bg-white text-gray-800 transition-all">Pr√≥ximas</button>
                   <button id="tab-past" class="px-3 py-1 text-sm font-medium rounded-md text-gray-500 hover:text-gray-700 hover:bg-gray-200 transition-all">Pasadas</button>
               </div>
          </div>
          
          <div id="meetings-list" class="space-y-6">
            <!-- Meetings will be injected here -->
          </div>
        </div>

        <!-- User Directory -->
        <div class="card">
          <h2 class="section-title">üë• Directorio de Miembros</h2>
          <div class="mb-4">
            <input
              id="search-directory"
              type="text"
              placeholder="Buscar por nombre, cargo o empresa..."
              class="w-full p-2 border rounded-md"
            />
          </div>
          <div
            id="directory-list"
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"
          >
            <!-- User cards will be injected here -->
          </div>
        </div>
      </main>
    </div>

    <!-- Profile Screen -->
    <div id="profile-screen" class="min-h-screen">
      <div class="max-w-2xl mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- QR Passport -->
        <div class="card bg-gradient-to-br from-indigo-900 to-indigo-700 text-white p-8 flex flex-col items-center shadow-indigo-500/30 border-none">
           <h2 class="text-2xl font-bold mb-6 font-heading tracking-tight text-white flex items-center gap-2">
              <i data-lucide="qr-code" class="w-6 h-6"></i> Pasaporte Digital
           </h2>
           <div class="bg-white p-4 rounded-2xl shadow-2xl">
              <canvas id="qr-code-canvas" class="w-48 h-48"></canvas>
           </div>
           <p class="text-sm text-indigo-100 mt-4 font-medium opacity-80">Presenta este c√≥digo para hacer Check-in</p>
        </div>

        <div class="card">
          <h2 class="section-title">Editar Perfil</h2>
          <p class="text-sm text-gray-500 mb-6">
            Completa y actualiza tus datos para que la comunidad pueda conocerte
            mejor.
          </p>

          <div class="space-y-4">
            <div>
              <label
                for="profile-name"
                class="block text-sm font-medium text-gray-700"
                >Nombre Completo</label
              >
              <input
                type="text"
                id="profile-name"
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div>
              <label
                for="profile-email"
                class="block text-sm font-medium text-gray-700"
                >Email</label
              >
              <input
                type="email"
                id="profile-email"
                class="mt-1 block w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md shadow-sm"
                disabled
              />
            </div>
            <div>
              <label
                for="profile-company"
                class="block text-sm font-medium text-gray-700"
                >Empresa</label
              >
              <input
                type="text"
                id="profile-company"
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div>
              <label
                for="profile-position"
                class="block text-sm font-medium text-gray-700"
                >Cargo</label
              >
              <input
                type="text"
                id="profile-position"
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div>
              <label
                for="profile-phone"
                class="block text-sm font-medium text-gray-700"
                >Nro. de Tel√©fono</label
              >
              <input
                type="tel"
                id="profile-phone"
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700">Foto de Perfil (URL)</label>
              <input type="url" id="profile-photo" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" placeholder="https://..." />
            </div>
             <div>
              <label class="block text-sm font-medium text-gray-700">LinkedIn (URL)</label>
              <input type="url" id="profile-linkedin" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" placeholder="https://linkedin.com/in/..." />
            </div>
            <div>
                 <label class="block text-sm font-medium text-gray-700">Busco (Tags separados por coma)</label>
                 <input type="text" id="profile-busco" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" placeholder="Ej: Inversionistas, Clientes SaaS, Contadores" />
             </div>
              <div>
                 <label class="block text-sm font-medium text-gray-700">Ofrezco (Tags separados por coma)</label>
                 <input type="text" id="profile-ofrezco" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500" placeholder="Ej: Consultor√≠a Legal, Hosting, Mentor√≠a" />
             </div>
            <div>
              <label
                for="profile-description"
                class="block text-sm font-medium text-gray-700"
                >Bio / Descripci√≥n</label
              >
              <textarea
                id="profile-description"
                rows="3"
                class="mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-gray-500 focus:border-gray-500"
                placeholder="Cu√©ntanos brevemente sobre ti..."
              ></textarea>
            </div>
          </div>

          <div class="mt-6 flex items-center justify-end space-x-4">
            <button id="cancel-profile" class="btn btn-secondary">
              Volver
            </button>
            <button id="save-profile" class="btn btn-primary">
              <i data-lucide="save" class="w-4 h-4 mr-2"></i> Guardar Cambios
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for user details -->
    <div
      id="user-details-modal"
      class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-20"
    >
      <div
        class="relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white"
      >
        <div class="mt-3 text-center">
          <div
            class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-gray-100"
          >
            <i data-lucide="contact" class="h-6 w-6" style="color: #4b5563"></i>
          </div>
          <h3
            id="modal-user-name"
            class="text-lg leading-6 font-medium text-gray-900 mt-2"
          ></h3>
          <div class="mt-2 px-7 py-3">
            <p class="text-sm text-gray-500">
              Aqu√≠ est√°n los datos de contacto:
            </p>
            <div id="modal-user-details" class="text-left mt-4 space-y-2">
              <!-- User details will be injected here -->
            </div>
          </div>
          <div class="items-center px-4 py-3">
            <button id="close-modal-button" class="btn btn-primary w-full">
              Cerrar
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal for editing meetings -->
    <div
      id="edit-meeting-modal"
      class="hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-20"
    >
      <div
        class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white"
      >
        <div class="card p-0! shadow-none! border-none!">
          <input type="hidden" id="edit-meeting-id" />
          <h2 class="section-title">Editar Reuni√≥n</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <input
              id="edit-meeting-title"
              type="text"
              placeholder="T√≠tulo de la reuni√≥n"
              class="w-full p-2 border rounded-md"
            />
            <input
              id="edit-meeting-date"
              type="date"
              class="w-full p-2 border rounded-md"
            />
          </div>
          <textarea
            id="edit-meeting-summary"
            class="w-full p-2 border rounded-md mt-4"
            rows="4"
            placeholder="Resumen de la reuni√≥n..."
          ></textarea>
          <div class="mt-4">
            <h3 class="font-semibold mb-2">Participantes</h3>
            <div
              id="edit-meeting-participants-list"
              class="max-h-60 overflow-y-auto border rounded-md p-2 space-y-2"
            >
              <!-- Participant checkboxes will be injected here -->
            </div>
          </div>
          <div class="text-right mt-4 space-x-2">
            <button id="cancel-edit-meeting" class="btn btn-secondary">
              Cancelar
            </button>
            <button id="save-meeting-changes" class="btn btn-primary">
              <i data-lucide="save" class="w-4 h-4 mr-2"></i> Guardar Cambios
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- QR Scanner Modal -->
    <div id="scanner-modal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-90 z-50 flex-col items-center justify-center p-4">
        <div class="bg-white rounded-2xl p-6 w-full max-w-md relative shadow-2xl">
            <button id="close-scanner-btn" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <h3 class="text-xl font-bold text-center mb-4 text-slate-800">Esc√°ner de Asistencia</h3>
            <div id="reader" class="w-full bg-black rounded-lg overflow-hidden h-64"></div>
            <p id="scanner-result" class="text-center mt-4 text-sm font-medium text-slate-600">Apunta la c√°mara al c√≥digo QR...</p>
        </div>
    </div>

    <!-- WhatsApp Floating Button -->
    <a
      href="https://wa.me/56932268111?text=Soy%20miembro%20de%20la%20Red7x7%20y%20necesito%20ayuda..."
      target="_blank"
      rel="noopener noreferrer"
      id="whatsapp-button"
      class="hidden"
    >
      <img src="img/WhatsApp_icon.png" alt="WhatsApp" />
    </a>

    <!-- Main Entry Point -->
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
